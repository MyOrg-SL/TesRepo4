#!/usr/bin/perl
use strict;
use warnings;
use LWP::UserAgent;
use HTTP::Request::Common;
use JSON;


my $json = '{"action":"opened","issue":{"url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/18","labels_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/18/comments","events_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/18/events","html_url":"https://github.com/MyOrg-SL/TesRepo4/issues/18","id":121536487,"number":18,"title":"issue7657","user":{"login":"ankitgoelcmu","id":13474718,"avatar_url":"https://avatars.githubusercontent.com/u/13474718?v=3","gravatar_id":"","url":"https://api.github.com/users/ankitgoelcmu","html_url":"https://github.com/ankitgoelcmu","followers_url":"https://api.github.com/users/ankitgoelcmu/followers","following_url":"https://api.github.com/users/ankitgoelcmu/following{/other_user}","gists_url":"https://api.github.com/users/ankitgoelcmu/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitgoelcmu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitgoelcmu/subscriptions","organizations_url":"https://api.github.com/users/ankitgoelcmu/orgs","repos_url":"https://api.github.com/users/ankitgoelcmu/repos","events_url":"https://api.github.com/users/ankitgoelcmu/events{/privacy}","received_events_url":"https://api.github.com/users/ankitgoelcmu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"milestone":null,"comments":0,"created_at":"2015-12-10T17:21:09Z","updated_at":"2016-01-11T18:07:37Z","closed_at":null,"body":"here is the issue"},"repository":{"id":47641912,"name":"TesRepo4","full_name":"MyOrg-SL/TesRepo4","owner":{"login":"MyOrg-SL","id":16169962,"avatar_url":"https://avatars.githubusercontent.com/u/16169962?v=3","gravatar_id":"","url":"https://api.github.com/users/MyOrg-SL","html_url":"https://github.com/MyOrg-SL","followers_url":"https://api.github.com/users/MyOrg-SL/followers","following_url":"https://api.github.com/users/MyOrg-SL/following{/other_user}","gists_url":"https://api.github.com/users/MyOrg-SL/gists{/gist_id}","starred_url":"https://api.github.com/users/MyOrg-SL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyOrg-SL/subscriptions","organizations_url":"https://api.github.com/users/MyOrg-SL/orgs","repos_url":"https://api.github.com/users/MyOrg-SL/repos","events_url":"https://api.github.com/users/MyOrg-SL/events{/privacy}","received_events_url":"https://api.github.com/users/MyOrg-SL/received_events","type":"Organization","site_admin":false},"private":false,"html_url":"https://github.com/MyOrg-SL/TesRepo4","description":"","fork":false,"url":"https://api.github.com/repos/MyOrg-SL/TesRepo4","forks_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/forks","keys_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/teams","hooks_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/hooks","issue_events_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/events{/number}","events_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/events","assignees_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/assignees{/user}","branches_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/branches{/branch}","tags_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/tags","blobs_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/git/refs{/sha}","trees_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/statuses/{sha}","languages_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/languages","stargazers_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/stargazers","contributors_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/contributors","subscribers_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/subscribers","subscription_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/subscription","commits_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/commits{/sha}","git_commits_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/git/commits{/sha}","comments_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/comments{/number}","issue_comment_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues/comments{/number}","contents_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/contents/{+path}","compare_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/merges","archive_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/downloads","issues_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/issues{/number}","pulls_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/pulls{/number}","milestones_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/milestones{/number}","notifications_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/labels{/name}","releases_url":"https://api.github.com/repos/MyOrg-SL/TesRepo4/releases{/id}","created_at":"2015-12-08T18:42:09Z","updated_at":"2015-12-21T19:02:35Z","pushed_at":"2016-01-05T18:22:02Z","git_url":"git://github.com/MyOrg-SL/TesRepo4.git","ssh_url":"git@github.com:MyOrg-SL/TesRepo4.git","clone_url":"https://github.com/MyOrg-SL/TesRepo4.git","svn_url":"https://github.com/MyOrg-SL/TesRepo4","homepage":null,"size":71,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"open_issues_count":24,"forks":0,"open_issues":24,"watchers":0,"default_branch":"master"},"organization":{"login":"MyOrg-SL","id":16169962,"url":"https://api.github.com/orgs/MyOrg-SL","repos_url":"https://api.github.com/orgs/MyOrg-SL/repos","events_url":"https://api.github.com/orgs/MyOrg-SL/events","members_url":"https://api.github.com/orgs/MyOrg-SL/members{/member}","public_members_url":"https://api.github.com/orgs/MyOrg-SL/public_members{/member}","avatar_url":"https://avatars.githubusercontent.com/u/16169962?v=3","description":null},"sender":{"login":"ankitbond001","id":16341126,"avatar_url":"https://avatars.githubusercontent.com/u/16341126?v=3","gravatar_id":"","url":"https://api.github.com/users/ankitbond001","html_url":"https://github.com/ankitbond001","followers_url":"https://api.github.com/users/ankitbond001/followers","following_url":"https://api.github.com/users/ankitbond001/following{/other_user}","gists_url":"https://api.github.com/users/ankitbond001/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitbond001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitbond001/subscriptions","organizations_url":"https://api.github.com/users/ankitbond001/orgs","repos_url":"https://api.github.com/users/ankitbond001/repos","events_url":"https://api.github.com/users/ankitbond001/events{/privacy}","received_events_url":"https://api.github.com/users/ankitbond001/received_events","type":"User","site_admin":false}}';










my $ua = LWP::UserAgent->new( ssl_opts => { verify_hostname => 0 }, );
my $req = POST 'https://endpoint1.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV0OiVG6DYuGnHVHw9UeOA-xexAKn-x64eUCcvgdXDoLR6nvt7iovy2yAeczVnz2mV05cJ83f9C8zHuze2Rw9OGIJc8GceME21vWW5GwvS9GYA==';

$req->header( 'Content-Type' => 'application/json' );
$req->content( $json );

my $res = $ua->request($req);




    if ($res->is_success) {
print $req->content( $json );

    print $res->decoded_content;
} else {
    print $res->status_line . "\n";
}
exit 0;
